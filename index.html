<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>gooblet</title>
    <style>
      body {
        font-family: sans-serif;
        text-align: center;
        margin-top: 60px;
      }
      input {
        margin: 8px;
        padding: 10px;
        font-size: 1rem;
      }
      button {
        padding: 10px 15px;
        font-size: 1rem;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <h1>Password Protected Site</h1>
    <p>controla<p>
    <p>Enter both passwords to continue:</p>

    <input id="pass1" type="password" placeholder="Main password" required><br>
    <input id="pass2" type="password" placeholder="Verification password" required><br>
    <button onclick="checkPasswords()">Submit</button>

    <script>
      const HASH_PASS1 = "9222a46a1794da2a0307cd52b90076fa617ba41cdffe9ccc4d4e4a0f628b5496";
      const HASH_PASS2 = "a5ad895656074bb12930374348bf903460016bcf430bf7039d7e34f0c505a7b1";

      // Hash function using built-in Web Crypto API
      async function hashText(text) {
        const data = new TextEncoder().encode(text);
        const hashBuffer = await crypto.subtle.digest("SHA-256", data);
        const hashArray = Array.from(new Uint8Array(hashBuffer));
        return hashArray.map(b => b.toString(16).padStart(2, "0")).join("");
      }

      async function checkPasswords() {
        const pass1 = document.getElementById("pass1").value.trim();
        const pass2 = document.getElementById("pass2").value.trim();

        if (!pass1 || !pass2) {
          alert("Please fill in both passwords.");
          return;
        }

        const hashed1 = await hashText(pass1);
        const hashed2 = await hashText(pass2);

        if (hashed1 === HASH_PASS1 && hashed2 === HASH_PASS2) {
          sessionStorage.setItem("auth1", hashed1);
          sessionStorage.setItem("auth2", hashed2);
          window.location.href = "main.html";
        } else {
          alert("Incorrect password(s).");
        }
      }
    </script>
  </body>
  <h2>To stay up-to-date, join our discord at https://discord.gg/PePK3HSM5G</h2>
  <p style="color: white;">main password : maintenancefriday</p>
  <p style="color: white;">verification password : pie</p>
</html>
